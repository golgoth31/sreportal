<mat-toolbar class="app-toolbar">
  <a routerLink="/" class="app-toolbar__brand">
    <mat-icon aria-hidden="true">dns</mat-icon>
    {{ title }}
  </a>

  <nav class="app-toolbar__nav" aria-label="Portal navigation">
    @for (portal of portals(); track portal.name) {
      <a matButton
         [routerLink]="'/' + (portal.subPath || portal.name) + '/links'"
         routerLinkActive="app-toolbar__link--active"
         #rla="routerLinkActive"
         [attr.aria-current]="rla.isActive ? 'page' : null"
         class="app-toolbar__link">
        {{ portal.title }}
      </a>
    }
    @if (portals().length === 0) {
      <a matButton
         routerLink="/main/links"
         routerLinkActive="app-toolbar__link--active"
         #defRla="routerLinkActive"
         [attr.aria-current]="defRla.isActive ? 'page' : null"
         class="app-toolbar__link">
        Links
      </a>
    }
  </nav>

  <div class="app-toolbar__actions">
    <a matIconButton
       routerLink="/help"
       routerLinkActive="app-toolbar__action--active"
       #helpRla="routerLinkActive"
       [attr.aria-current]="helpRla.isActive ? 'page' : null"
       matTooltip="Help & MCP"
       aria-label="Help and MCP integration">
      <mat-icon>help_outline</mat-icon>
    </a>
    <button matIconButton
            (click)="theme.toggle()"
            [matTooltip]="'Theme: ' + theme.mode()"
            aria-label="Toggle colour theme">
      <mat-icon>{{ theme.icon() }}</mat-icon>
    </button>
  </div>
</mat-toolbar>

<main class="main-content">
  <router-outlet />
</main>

<footer class="footer">
  <p>SRE Portal â€” Kubernetes DNS Discovery</p>
</footer>
