apiVersion: v1
kind: ConfigMap
metadata:
  name: config
  namespace: system
data:
  config.yaml: |
    sources:
      service:
        enabled: true
        namespace: ""
        annotationFilter: ""
        serviceTypeFilter:
          - LoadBalancer
          - ExternalName
          - ClusterIP
        publishInternal: true
        publishHostIP: false

      ingress:
        enabled: true
        namespace: ""
        ingressClassNames: []

      dnsEndpoint:
        enabled: false
        namespace: ""

      istioGateway:
        enabled: true
        namespace: ""

      istioVirtualService:
        enabled: false
        namespace: ""

      # Priority defines which source wins when the same FQDN+RecordType is discovered
      # by multiple sources. Sources listed first take precedence.
      # Remove or leave empty to merge targets from all sources (default).
      priority:
        - dnsendpoint
        - ingress
        - service
        - istio-gateway
        - istio-virtualservice

    groupMapping:
      defaultGroup: "Services"

    reconciliation:
      interval: 5m
      retryOnError: 30s
      disableDNSCheck: false
