# Minimal configuration for local testing
sources:
  service:
    enabled: true
    # Empty annotationFilter = include all services with the hostname annotation
    annotationFilter: ""
    serviceTypeFilter:
      - LoadBalancer
      - ClusterIP
      - ExternalName
    # publishInternal exposes cluster-internal IPs (useful for local testing without real LoadBalancer)
    publishInternal: true

  ingress:
    enabled: false
    ingressClassNames: [] # Empty = all ingress classes

  # DNSEndpoint disabled - requires external-dns CRDs
  dnsEndpoint:
    enabled: false

  istioGateway:
    enabled: false

  # Priority defines which source wins when the same FQDN+RecordType is discovered
  # by multiple sources. Sources listed first take precedence. Sources omitted from
  # the list still contribute FQDNs they uniquely own, but lose to any listed source.
  # Remove this key (or leave it empty) to merge targets from all sources (default).
  priority:
    - dnsendpoint
    - ingress
    - service
    - istio-gateway
    - istio-virtualservice

groupMapping:
  defaultGroup: "Discovered Services"
  labelKey: "sreportal.io/group"
  byNamespace:
    production: "Production"
    default: "Development"

reconciliation:
  interval: 30s
  retryOnError: 10s
